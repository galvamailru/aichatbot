# üìÑ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –¢–ó (Execution-Spec)

> –®–∞–±–ª–æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–æ–Ω–≤–µ–π–µ—Ä–∞: **high‚Äëreasoning –º–æ–¥–µ–ª—å ‚Üí —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è ‚Üí Codex / low‚Äëreasoning –º–æ–¥–µ–ª—å ‚Üí —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**

–î–æ–∫—É–º–µ–Ω—Ç –ø–∏—à–µ—Ç—Å—è thinking‚Äë–º–æ–¥–µ–ª—å—é –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º *–±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π*.

---

## 0. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
–î–∞–Ω–Ω—ã–π Execution-Spec —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è **–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —ç—Ç–∞–ø–∞ Solution Space Exploration**, –∞ –∏–º–µ–Ω–Ω–æ –±–ª–æ–∫–∞:

```
=== RESULT FOR EXECUTION-SPEC ===
FastAPI-—Å–µ—Ä–≤–µ—Ä —Å REST API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ SSE –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞ LLM. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env, –ø—Ä–æ–º–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞. –î–∏–∞–ª–æ–≥–∏ –ø–æ user_id –≤ PostgreSQL. –ö–ª–∏–µ–Ω—Ç –≤ iframe: —Ñ–æ—Ä–º–∞ + –ø—Ä–∏—ë–º SSE.
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –±–ª–æ–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è **–≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∏–∂–µ.

**–¶–µ–ª—å:**
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å *—Å—Ç—Ä–æ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏* —Å –¥–∞–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.

**–ó–∞–ø—Ä–µ—â–µ–Ω–æ:**

- –ª—é–±—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π;
- —É–ª—É—á—à–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ¬´–ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é¬ª;
- –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã;
- –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–æ–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

**–†–æ–ª—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:**

- —Å—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç *–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã*;
- –µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–µ –æ–ø–∏—Å–∞–Ω–æ ‚Äî —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –µ–≥–æ **–Ω–µ—Ç**;
- –ø—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ ‚Äî **–∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å**, –∞ –Ω–µ —É–≥–∞–¥—ã–≤–∞—Ç—å.

---

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1.1 –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–∏—Å—Ç–µ–º—ã

- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: –°–µ—Ä–≤–µ—Ä —Å AI-–∞–≥–µ–Ω—Ç–æ–º –≤ –≤–∏–¥–µ —á–∞—Ç–∞, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –≤ HTML —á–µ—Ä–µ–∑ iframe. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ REST API; –æ—Ç–≤–µ—Ç LLM —Å—Ç—Ä–∏–º–∏—Ç—Å—è –ø–æ SSE. –î–∏–∞–ª–æ–≥–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ USER_ID –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL.
- –Ø–∑—ã–∫ / –≤–µ—Ä—Å–∏—è: Python 3.11+ (–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ –ø—Ä–æ–µ–∫—Ç–µ).
- –°—Ç–µ–∫ / —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏: FastAPI, PostgreSQL (–¥—Ä–∞–π–≤–µ—Ä async –∏–ª–∏ sync ‚Äî –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏), Docker, docker-compose. LLM ‚Äî DeepSeek (HTTP API).
- –¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: Backend-—Å–µ—Ä–≤–∏—Å (REST API + SSE + —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã iframe).
- –ú–æ–¥—É–ª—å / –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞: –ß–∞—Ç-—Å–µ—Ä–≤–∏—Å (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —Å—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Å –¥–∏–∞–ª–æ–≥–æ–≤).
- –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: HTTP-–∫–ª–∏–µ–Ω—Ç –∫ LLM DeepSeek (URL –∏–∑ .env); –∫–ª–∏–µ–Ω—Ç –≤ iframe ‚Äî –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å REST –∏ SSE.

### 1.2 –ñ—ë—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Hard constraints)

- –Ø–∑—ã–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ Python. –°—Ç–µ–∫ ‚Äî —Ç–æ–ª—å–∫–æ FastAPI, PostgreSQL, Docker/docker-compose.
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∑–∞–¥–∞–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–µ .env; –∑–∞–ø—Ä–µ—â–µ–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–Ω–µ .env.
- –ü—Ä–æ–º–ø—Ç LLM –∑–∞–ø—Ä–µ—â–µ–Ω–æ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –≤ –∫–æ–¥–µ; –ø—Ä–æ–º–ø—Ç –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –ø—É—Ç—å/–∏–º—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (.env –∏–ª–∏ –∞–Ω–∞–ª–æ–≥).
- URL LLM-—Å–µ—Ä–≤–µ—Ä–∞ (DeepSeek) –¥–æ–ª–∂–µ–Ω –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ .env).
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–Ω–æ–º—É –≤—ã–∑–æ–≤—É LLM –∏ –æ–¥–Ω–æ–º—É SSE-–ø–æ—Ç–æ–∫—É.

> –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏.

---

## 2. –¢–µ—Ä–º–∏–Ω—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

| –¢–µ—Ä–º–∏–Ω | –ó–Ω–∞—á–µ–Ω–∏–µ |
| ------ | -------- |
| USER_ID | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ user_id; –¥–∏–∞–ª–æ–≥–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ user_id. |
| LLM | Large Language Model; –≤ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ ‚Äî DeepSeek, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø–æ HTTP API. |
| SSE | Server-Sent Events; –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É (—Å—Ç—Ä–∏–º —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç–≤–µ—Ç–∞ LLM). |
| –ü—Ä–æ–º–ø—Ç | –¢–µ–∫—Å—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ/–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM; —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–ª–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É. |
| –î–∏–∞–ª–æ–≥ | –ù–∞–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö –æ–¥–Ω–æ–º—É user_id (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–¥–Ω–æ–º—É –¥–∏–∞–ª–æ–≥—É/—Å–µ—Å—Å–∏–∏). |

–ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω **–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∑–¥–µ—Å—å**, –æ–Ω **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## 3. –¢—Ä–µ–±—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (Behavior specification)

### 3.1 –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

–ü–æ—à–∞–≥–æ–≤–æ, –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π:

1. –ö–ª–∏–µ–Ω—Ç (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ iframe –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π –∫–ª–∏–µ–Ω—Ç) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å —Ç–µ–ª–æ–º: user_id, —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–∞/—Å–µ—Å—Å–∏–∏ ‚Äî –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å ¬´–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–∏–∞–ª–æ–≥–æ–≤ –Ω–∞ user_id¬ª).
2. –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ user_id –∏–∑ PostgreSQL.
3. –°–µ—Ä–≤–µ—Ä —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ LLM DeepSeek (—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ + –∏—Å—Ç–æ—Ä–∏—è + –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ), –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤ LLM —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç—Ä–∏–º–∏–Ω–≥–∞.
4. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å Content-Type –¥–ª—è SSE –∏ –ø–æ—Ç–æ–∫–æ–≤–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç LLM —Ç–æ–∫–µ–Ω—ã –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç SSE).
5. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞ —Å–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ PostgreSQL —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ user_id (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫ –¥–∏–∞–ª–æ–≥—É/—Å–µ—Å—Å–∏–∏).
6. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (HTML/JS) –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è —á–∞—Ç–∞ –≤ iframe: —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–∏—ë–º SSE —Å –ø–æ—à–∞–≥–æ–≤—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–∞ (–∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ API, –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ iframe –≤—ã–Ω–µ—Å–µ–Ω–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).

### 3.2 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –æ—à–∏–±–∫–∏

- –ï—Å–ª–∏ user_id –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω ‚Üí –æ—Ç–≤–µ—Ç 400 —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.
- –ï—Å–ª–∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ) ‚Üí –æ—Ç–≤–µ—Ç 400.
- –ï—Å–ª–∏ —Ñ–∞–π–ª –ø—Ä–æ–º–ø—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞ ‚Üí –æ—Ç–≤–µ—Ç 500 (–∏–ª–∏ –æ—Ç–∫–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ).
- –ï—Å–ª–∏ LLM DeepSeek –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É ‚Üí –æ—Ç–≤–µ—Ç 502 –∏–ª–∏ 503 –∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ SSE-–ø–æ—Ç–æ–∫–∞; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–∏–ª–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å ‚Äî —Ä–µ—à–µ–Ω–∏–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏).
- –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è SSE ‚Üí —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–∑–æ–≤ LLM –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤ –ë–î –∏–ª–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å (–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ).

---

## 4. –ü—Ä–∞–≤–∏–ª–∞ –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã

- –û–¥–∏–Ω HTTP-–∑–∞–ø—Ä–æ—Å —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Å–µ–≥–¥–∞ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ LLM –∏ –æ–¥–∏–Ω SSE-–ø–æ—Ç–æ–∫.
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–∏—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ .env.
- –ü—Ä–æ–º–ø—Ç LLM –≤—Å–µ–≥–¥–∞ —á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —Ñ–∞–π–ª–∞; –ø—É—Ç—å/–∏–º—è —Ñ–∞–π–ª–∞ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.
- –í –ë–î —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ user_id; –¥–∏–∞–ª–æ–≥–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ user_id.
- URL LLM-—Å–µ—Ä–≤–µ—Ä–∞ –≤—Å–µ–≥–¥–∞ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∏–ª–∏ .env).

---

## 5. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### 5.1 DTO / API –º–æ–¥–µ–ª–∏

- **–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (POST):** —Ç–µ–ª–æ JSON: `user_id` (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ —á–∏—Å–ª–æ ‚Äî –µ–¥–∏–Ω—ã–π —Ç–∏–ø –≤ —Ä–∞–º–∫–∞—Ö API), `message` (—Å—Ç—Ä–æ–∫–∞ ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `dialog_id` –∏–ª–∏ `session_id` ‚Äî –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –Ω–∞ user_id.
- **–û—Ç–≤–µ—Ç SSE:** –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ Server-Sent Events; –∫–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ ‚Äî —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞ –æ—Ç–≤–µ—Ç–∞ LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª–µ `data` —Å —Å—Ç—Ä–æ–∫–æ–π). –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å –ø—Ä–∏–∑–Ω–∞–∫–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ —Ñ–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º).
- **–û—Ç–≤–µ—Ç –æ–± –æ—à–∏–±–∫–µ:** JSON —Å –ø–æ–ª–µ–º `detail` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –∏ HTTP-–∫–æ–¥ 4xx/5xx.

### 5.2 –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–¥–∏–∞–ª–æ–≥:** –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ `user_id`; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Å—É—â–Ω–æ—Å—Ç—å ¬´–¥–∏–∞–ª–æ–≥¬ª –∏–ª–∏ ¬´—Å–µ—Å—Å–∏—è¬ª —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º id.
- **–°–æ–æ–±—â–µ–Ω–∏–µ:** –∞–≤—Ç–æ—Ä (user / assistant), —Ç–µ–∫—Å—Ç, –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è), –ø—Ä–∏–≤—è–∑–∫–∞ –∫ user_id –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫ dialog_id/session_id.

–°—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü –ë–î (–∏–º–µ–Ω–∞ –ø–æ–ª–µ–π –∏ —Ç–∏–ø—ã) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–¥–µ –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è—Ö; –º–∏–Ω–∏–º–∞–ª—å–Ω–æ: —Ö—Ä–∞–Ω–µ–Ω–∏–µ user_id, —Ä–æ–ª–∏ (user/assistant), —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –¥–∏–∞–ª–æ–≥–∞/—Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
- API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON; –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8.
- –î–∞—Ç—ã/–≤—Ä–µ–º—è ‚Äî –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 –∏–ª–∏ Unix timestamp (–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö API –∏ –ë–î).

---

## 6. –ü–µ—Ä—Å–∏—Å—Ç–∞–Ω—Å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- –•—Ä–∞–Ω–∏–ª–∏—â–µ: PostgreSQL. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ .env): —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –∏–º—è –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–∞—Ä–æ–ª—å.
- –¢–∞–±–ª–∏—Ü—ã: –º–∏–Ω–∏–º—É–º ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–ª—è–º–∏: id, user_id, —Ä–æ–ª—å (user/assistant), —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≤—Ä–µ–º—è (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏), –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–∞/—Å–µ—Å—Å–∏–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏). –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –¥–∏–∞–ª–æ–≥–æ–≤/—Å–µ—Å—Å–∏–π —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ user_id.
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: —Ç–∏–ø—ã PostgreSQL (text, varchar, bigint, timestamp –∏ —Ç.–¥.) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π.
- –ú–∞–ø–ø–∏–Ω–≥ / –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º: —á–µ—Ä–µ–∑ ORM (SQLAlchemy, Tortoise –∏ —Ç.–¥.) –∏–ª–∏ —Å—ã—Ä–æ–π SQL; –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞.
- –ú–∏–≥—Ä–∞—Ü–∏–∏: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (Alembic –∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ; —Å—Ö–µ–º–∞ –ë–î –Ω–µ –¥–æ–ª–∂–Ω–∞ –º–µ–Ω—è—Ç—å—Å—è –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏.

---

## 7. –ì—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á–∏ (Out of scope)

–Ø–≤–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ:

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –≤–Ω–µ iframe (–≤–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—É—é —Ä–∞–∑–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –∫–æ—Ç–æ—Ä—É—é –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –µ–≥–æ API).
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ docker-compose (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ë–î –≤–Ω–µ –∑–∞–¥–∞—á–∏).
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–Ω–µ .env.
- –•–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–ø—Ç–∞ LLM –≤ –∫–æ–¥–µ –∏–ª–∏ URL LLM –≤–Ω–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, WebSocket, –æ—á–µ—Ä–µ–¥–∏) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –¢–ó.

---

## 8. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 8.1 –ß—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å

#### –î–æ–±–∞–≤–∏—Ç—å

- FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–∞—Ä—à—Ä—É—Ç–æ–º POST –¥–ª—è –ø—Ä–∏—ë–º–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (user_id, message; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ dialog_id/session_id).
- –≠–Ω–¥–ø–æ–∏–Ω—Ç –∏–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–¥–∞—á–∏ SSE-–ø–æ—Ç–æ–∫–∞ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —É—Å–ø–µ—à–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è (—Å—Ç—Ä–∏–º –æ—Ç–≤–µ—Ç–∞ LLM).
- –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env (–≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ë–î, URL LLM, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø—Ä–æ–º–ø—Ç–∞).
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ LLM –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–ø—É—Ç—å/–∏–º—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).
- HTTP-–∫–ª–∏–µ–Ω—Ç –∫ LLM DeepSeek —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞; URL –±–µ—Ä—ë—Ç—Å—è –∏–∑ .env.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–≤–µ—Ç–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ PostgreSQL —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ user_id (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫ –¥–∏–∞–ª–æ–≥—É/—Å–µ—Å—Å–∏–∏).
- –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è iframe (HTML/JS: —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–∏—ë–º SSE —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–∞) –∏–ª–∏ —è–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —á—Ç–æ API –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.
- Dockerfile –∏ docker-compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ PostgreSQL (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤); –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose.
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (Alembic –∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã.

#### –ò–∑–º–µ–Ω–∏—Ç—å

- –ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ (–Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è).

#### –£–¥–∞–ª–∏—Ç—å (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

- –ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ.

### 8.2 –ß–µ–≥–æ **–Ω–µ –¥–µ–ª–∞—Ç—å**

- –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–Ω–µ .env.
- –ù–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –ø—Ä–æ–º–ø—Ç LLM –∏ URL LLM –≤ –∫–æ–¥–µ.
- –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–µ –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤ –¥–∞–Ω–Ω–æ–º –¢–ó (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã), –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¢–ó.
- –ù–µ –º–µ–Ω—è—Ç—å —Å—Ö–µ–º—É –ë–î –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π.

---

## 9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –¢–∏–ø —Ç–µ—Å—Ç–æ–≤: unit –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ integration (API, –ë–î); –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ LLM (–º–æ–∫ HTTP-–∫–ª–∏–µ–Ω—Ç–∞ –∫ DeepSeek).
- –ì–¥–µ/–∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å: —á–µ—Ä–µ–∑ pytest (–∫–æ–º–∞–Ω–¥–∞ `pytest` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –∏–∑ –æ–±—Ä–∞–∑–∞/–æ–∫—Ä—É–∂–µ–Ω–∏—è, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: pytest; –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ ‚Äî pytest-asyncio; –º–æ–∫–∏ –¥–ª—è HTTP-–∫–ª–∏–µ–Ω—Ç–∞ –∫ LLM –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –ë–î (—Ñ–∏–∫—Å—Ç—É—Ä—ã).
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ LLM –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–∞—Ö –±–µ–∑ —è–≤–Ω–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, e2e); —Ö–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö.
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ: –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è (arrange/act/assert).
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM –∏ SSE-–æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –º–æ–∫–µ LLM; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ë–î –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–º user_id; –≤–æ–∑–≤—Ä–∞—Ç 4xx/5xx –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ LLM (–º–æ–∫); —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env –∏ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞.

---

## 10. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (Definition of Done)

- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 3
- ‚úÖ –°–æ–±–ª—é–¥–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 1.2
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 9 –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –í –¥–æ–∫—É–º–µ–Ω—Ç–µ –Ω–µ—Ç –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö placeholder'–æ–≤ (`‚ùå`, `<...>`, `TBD`)

---

## 11. –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π (Rationale ‚Äî read‚Äëonly)

> –†–∞–∑–¥–µ–ª –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–º—ã—Å–ª–∞ —Ä–µ—à–µ–Ω–∏–π.\
> **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.**

- –í—ã–±—Ä–∞–Ω –í–∞—Ä–∏–∞–Ω—Ç 2 (REST + SSE): FastAPI, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ REST, —Å—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ LLM —á–µ—Ä–µ–∑ Server-Sent Events. –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π —Å—Ç–µ–∫–∞ –∏ –ø—Ä–∏–µ–º–ª–µ–º—ã–º UX –±–µ–∑ –≤–≤–µ–¥–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–µ–π –∏ –≤–æ—Ä–∫–µ—Ä–æ–≤.
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: –í–∞—Ä–∏–∞–Ω—Ç 1 (REST –±–µ–∑ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞) –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç –∏–∑-–∑–∞ –ø–ª–æ—Ö–æ–≥–æ UX –ø—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö; –í–∞—Ä–∏–∞–Ω—Ç 3 (WebSocket) –∏ –í–∞—Ä–∏–∞–Ω—Ç 4 (–æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á) –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—ã –∫–∞–∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏.
- –ö–æ–º–ø—Ä–æ–º–∏—Å—Å: –µ–¥–∏–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–µ–∑ –≤–æ—Ä–∫–µ—Ä–æ–≤ –∏ –±—Ä–æ–∫–µ—Ä–æ–≤); —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤ –≤ PostgreSQL –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞ (–∏–ª–∏ –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è ‚Äî –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).
